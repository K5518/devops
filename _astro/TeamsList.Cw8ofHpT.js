import{j as e}from"./jsx-runtime.BPj4-Rfu.js";import{r as t}from"./index.SSXOyoI7.js";import{a as m}from"./http.B-35sOsF.js";import{u as c}from"./use-auth.BNYEoi-W.js";import{p as d}from"./page.C3ddTGlS.js";import{u}from"./use-toast.CK2mpur1.js";import"./team.B3mFytyj.js";import"./jwt.M546E6_Y.js";import"./index.CEvxOxeV.js";import"./toast.BGQI3kl5.js";import"./index.Bhz7cRIx.js";function $(){const[n,i]=t.useState([]),a=c(),l=u();async function o(){const{response:s,error:r}=await m("https://api.roadmap.sh/v1-get-user-teams");if(r||!s){l.error(r?.message||"Something went wrong");return}i(s)}return t.useEffect(()=>{o().finally(()=>{d.set("")})},[]),e.jsx("div",{className:"relative mx-auto max-w-[500px]",children:e.jsxs("div",{className:"w-full px-2 py-2",children:[e.jsxs("div",{className:"mb-8 hidden md:block",children:[e.jsx("h2",{className:"text-3xl font-bold sm:text-4xl",children:"Teams"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Here are the teams you are part of"})]}),e.jsxs("ul",{className:"mb-3 flex flex-col gap-1",children:[e.jsx("li",{children:e.jsxs("a",{className:"flex w-full cursor-pointer items-center justify-between gap-2 truncate rounded border p-2 text-sm font-medium hover:border-gray-300 hover:bg-gray-50",href:"/account",children:[e.jsxs("span",{className:"flex flex-grow items-center gap-2",children:[e.jsx("img",{src:a?.avatar?`https://dodrc8eu8m09s.cloudfront.net/avatars/${a?.avatar}`:"/images/default-avatar.png",alt:a?.name||"",className:"h-6 w-6 rounded-full"}),e.jsx("span",{className:"truncate",children:"Personal Account"})]}),e.jsx("span",{children:"→"})]})}),n.map(s=>{let r="";return s.status==="invited"?r=`/respond-invite?i=${s.memberId}`:s.status==="joined"&&(r=`/team/progress?t=${s._id}`),e.jsx("li",{children:e.jsxs("a",{className:"flex w-full cursor-pointer items-center justify-between gap-2 rounded border p-2 text-sm font-medium hover:border-gray-300 hover:bg-gray-50",href:r,children:[e.jsxs("span",{className:"flex flex-grow items-center gap-2",children:[e.jsx("img",{src:s.avatar?`https://dodrc8eu8m09s.cloudfront.net/avatars/${s.avatar}`:"/images/default-avatar.png",alt:s.name||"",className:"h-6 w-6 rounded-full"}),e.jsx("span",{className:"truncate",children:s.name})]}),e.jsx("span",{children:"→"})]})},s._id)})]}),e.jsxs("a",{className:"inline-flex w-full items-center justify-center rounded-lg bg-black p-2 py-3 text-sm font-medium text-white outline-none focus:ring-2 focus:ring-black focus:ring-offset-1 disabled:bg-gray-400",href:"/team/new",children:[e.jsx("span",{className:"mr-2",children:"+"}),e.jsx("span",{children:"New Team"})]})]})})}export{$ as TeamsList};
