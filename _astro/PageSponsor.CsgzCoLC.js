import{j as s}from"./jsx-runtime.BPj4-Rfu.js";import{r as i}from"./index.SSXOyoI7.js";import{a as w}from"./http.B-35sOsF.js";import{s as p}from"./page.C3ddTGlS.js";import{u as b}from"./index.zDCl-MiS.js";import{X as j}from"./x.DeiB2ka7.js";import"./jwt.M546E6_Y.js";import"./index.CEvxOxeV.js";import"./createLucideIcon.BSeNqbob.js";function P(l){const{gaPageIdentifier:t}=l,c=b(p),[r,m]=i.useState(),x=async()=>{const o=window.location.pathname;if(o==="/"||o==="/best-practices"||o==="/roadmaps"||o.startsWith("/guides")||o.startsWith("/videos")||o.startsWith("/account")||o.startsWith("/team"))return;const{response:e,error:a}=await w("https://api.roadmap.sh/v1-get-sponsor",{href:window.location.pathname});if(a){console.error(a);return}e?.sponsor&&(m(e.sponsor),window.fireEvent({category:"SponsorImpression",action:`${e.sponsor?.company} Impression`,label:e.sponsor.gaLabel||`${t} / ${e.sponsor?.company} Link`}))};if(i.useEffect(()=>{window.setTimeout(x)},[]),c||!r)return null;const{url:d,title:f,imageUrl:h,description:u,company:n,gaLabel:g}=r;return s.jsxs("a",{href:d,target:"_blank",rel:"noopener sponsored nofollow",className:"fixed bottom-[15px] right-[15px] z-50 flex max-w-[350px] bg-white shadow-lg outline-0 outline-transparent",onClick:()=>{window.fireEvent({category:"SponsorClick",action:`${n} Redirect`,label:g||`${t} / ${n} Link`})},children:[s.jsx("span",{className:"absolute right-1.5 top-1.5 text-gray-300 hover:text-gray-800","aria-label":"Close",onClick:o=>{o.preventDefault(),p.set(!0)},children:s.jsx(j,{className:"h-4 w-4"})}),s.jsx("img",{src:h,className:"block h-[150px] object-cover lg:h-[169px] lg:w-[118.18px]",alt:"Sponsor Banner"}),s.jsxs("span",{className:"flex flex-1 flex-col justify-between text-sm",children:[s.jsxs("span",{className:"p-[10px]",children:[s.jsx("span",{className:"mb-0.5 block font-semibold",children:f}),s.jsx("span",{className:"block text-gray-500",children:u})]}),s.jsx("span",{className:"sponsor-footer",children:"Partner Content"})]})]})}export{P as PageSponsor};
