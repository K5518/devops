<h1 id="type">$type</h1>
<p>The <code>$type</code> operator is an element query operator in MongoDB that allows you to select documents based on data types of their fields. This can be useful when you want to perform operations only on those documents that have specific data types for certain fields.</p>
<h2 id="syntax">Syntax</h2>
<p>The basic syntax for using the <code>$type</code> operator is:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">{</span></span>
<span class="line"><span style="color:#F8F8F2">  fieldName: {</span></span>
<span class="line"><span style="color:#F8F8F2">    $type: dataType;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>Here, <code>fieldName</code> is the name of the field whose data type you want to check, and <code>dataType</code> is the BSON data type or its corresponding alias.</p>
<h2 id="bson-data-types-and-aliases">BSON Data Types and Aliases</h2>
<p>MongoDB supports various data types for fields, such as <code>String</code>, <code>Number</code>, <code>Date</code>, etc. Some of the common BSON data types and their corresponding aliases are:</p>
<ul>
<li><code>Double</code>: 1 or ‘double’</li>
<li><code>String</code>: 2 or ‘string’</li>
<li><code>Object</code>: 3 or ‘object’</li>
<li><code>Array</code>: 4 or ‘array’</li>
<li><code>Binary</code>: 5 or ‘binData’</li>
<li><code>ObjectId</code>: 7 or ‘objectId’</li>
<li><code>Boolean</code>: 8 or ‘bool’</li>
<li><code>Date</code>: 9 or ‘date’</li>
<li><code>Null</code>: 10 or ‘null’</li>
<li><code>Regex</code>: 11 or ‘regex’</li>
<li><code>Int32</code>: 16 or ‘int’</li>
<li><code>Int64</code>: 18 or ‘long’</li>
<li><code>Decimal128</code>: 19 or ‘decimal’</li>
</ul>
<p>Refer to the <a href="https://docs.mongodb.com/manual/reference/bson-types/" rel="noopener noreferrer nofollow" target="_blank">MongoDB documentation</a> for a comprehensive list of supported BSON data types and their aliases.</p>
<h2 id="example">Example</h2>
<p>Suppose you have a collection named <code>products</code> with different fields like <code>name</code>, <code>price</code>, and <code>discount</code>. You want to find documents that have a <code>price</code> field of type <code>Double</code>. You can use the <code>$type</code> operator like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">db.products.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">({ price</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { $type</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">double</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2"> } });</span></span></code></pre>
<p>Or use the BSON data type instead of alias:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">db.products.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">({ price</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { $type</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 1</span><span style="color:#F8F8F2"> } });</span></span></code></pre>
<p>Keep in mind that the <code>$type</code> operator will only match documents with the exact data type specified for the field. So, if the field has an integer value, using <code>$type</code> with <code>Double</code> will not match those documents.</p>
<p>In summary, the <code>$type</code> element operator is a useful query tool for selecting documents based on the data types of their fields in MongoDB. By understanding and utilizing the BSON data types and aliases, you can effectively filter documents in your queries based on specific fields’ data types.</p>