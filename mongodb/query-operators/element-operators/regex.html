<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/mongodb/content/105-query-operators/103-element-operators/102-regex.md"></div> <h1 id="regex">$regex</h1>
<p>The <code>$regex</code> operator in MongoDB is a powerful and versatile tool for searching and querying text-based fields in your documents. It allows you to search for strings that match a specific pattern, which is defined using Regular Expressions (regex).</p>
<p>Regular Expressions are a sequence of characters that define a search pattern. These patterns can be used to perform powerful searches, like matching specific words, phrases, or even complex combinations of characters.</p>
<p>In this section, we’ll explore the usage of the <code>$regex</code> operator and see how it can be an invaluable tool in your MongoDB queries.</p>
<h2 id="using-regex-operator">Using <code>$regex</code> Operator</h2>
<p>The <code>$regex</code> operator can be used in the <code>find()</code> method, when searching through a collection of documents. It takes a pattern and searches for any documents that match the provided pattern. Here’s a basic example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">db.collection.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">({ fieldName</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { $regex</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">your-pattern</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2"> } });</span></span>
<span class="line"></span></code></pre>
<p>Replace <code>fieldName</code> with the name of the field you want to search and <code>your-pattern</code> with the regular expression pattern you want to match. This query will return any documents that contain the matching pattern in the specified field.</p>
<h2 id="case-insensitive-searches">Case Insensitive Searches</h2>
<p>By default, the <code>$regex</code> operator is case-sensitive. If you want to perform a case-insensitive search, use the <code>$options</code> parameter with the <code>$regex</code> operator. To make the search case-insensitive, add the option <code>i</code>.</p>
<p>Here’s an example:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">db.collection.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">({ fieldName</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { $regex</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">your-pattern</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">, $options</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">i</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2"> } });</span></span>
<span class="line"></span></code></pre>
<p>In this example, the query will return any documents that contain the matching pattern in the specified field, regardless of the text case.</p>
<h2 id="using-special-characters">Using Special Characters</h2>
<p>In Regular Expressions, some characters have special meanings, such as the period (<code>.</code>), asterisk (<code>*</code>), and plus sign (<code>+</code>). To search for these characters in your documents, you need to escape them with a backslash (<code>\</code>). For example, if you want to find documents that have a <code>+</code> sign in a field, you can use the following pattern:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">db.collection.</span><span style="color:#50FA7B">find</span><span style="color:#F8F8F2">({ fieldName</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> { $regex</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> '</span><span style="color:#FF79C6">\\</span><span style="color:#F1FA8C">+</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2"> } });</span></span>
<span class="line"></span></code></pre>
<p>In this example, the backslash escapes the <code>+</code> sign, telling the <code>$regex</code> operator to search for the literal character <code>+</code> in the documents.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The <code>$regex</code> operator allows you to flexibly search through text-based fields in your MongoDB documents by using powerful Regular Expressions. Remember to use the appropriate <code>$options</code> when necessary, and be mindful of special characters that require escaping.</p>
<p>Learning and mastering Regular Expressions can greatly improve the searching capabilities of your MongoDB queries, making use of the <code>$regex</code> operator a valuable skill.</p>