<div data-github-url="https://github.com/kamranahmedse/developer-roadmap/tree/master/src/data/roadmaps/cpp/content/111-templates/101-template-specialization/101-partial.md"></div> <h1 id="partial-template-specialization">Partial Template Specialization</h1>
<p>Partial template specialization is a concept in C++ templates, which allows you to specialize a template for a subset of its possible type arguments. It is particularly useful when you want to provide a customized implementation for a particular group of types without having to define separate specializations for all types in that group.</p>
<p>Partial template specialization is achieved by providing a specialization of a template with a new set of template parameters. This new template will be chosen when the compiler deduces the types that match the partial specialization.</p>
<p>Here is a code example that demonstrates partial template specialization:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6272A4">// Primary template</span></span>
<span class="line"><span style="color:#FF79C6">template</span><span style="color:#F8F8F2"> &#x3C;</span><span style="color:#FF79C6">typename</span><span style="color:#8BE9FD;font-style:italic"> T</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">struct</span><span style="color:#8BE9FD;font-style:italic"> MyTemplate</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">    static</span><span style="color:#FF79C6"> const</span><span style="color:#FF79C6"> char*</span><span style="color:#50FA7B"> name</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">General case</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">// Partial specialization for pointers</span></span>
<span class="line"><span style="color:#FF79C6">template</span><span style="color:#F8F8F2"> &#x3C;</span><span style="color:#FF79C6">typename</span><span style="color:#8BE9FD;font-style:italic"> T</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">struct</span><span style="color:#8BE9FD;font-style:italic"> MyTemplate</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#8BE9FD;font-style:italic">T</span><span style="color:#FF79C6">*</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    static</span><span style="color:#FF79C6"> const</span><span style="color:#FF79C6"> char*</span><span style="color:#50FA7B"> name</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Partial specialization for pointers</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4">// Full specialization for int</span></span>
<span class="line"><span style="color:#FF79C6">template</span><span style="color:#F8F8F2"> &#x3C;></span></span>
<span class="line"><span style="color:#FF79C6">struct</span><span style="color:#8BE9FD;font-style:italic"> MyTemplate</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">int</span><span style="color:#F8F8F2">> {</span></span>
<span class="line"><span style="color:#FF79C6">    static</span><span style="color:#FF79C6"> const</span><span style="color:#FF79C6"> char*</span><span style="color:#50FA7B"> name</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">        return</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Full specialization for int</span><span style="color:#E9F284">"</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    }</span></span>
<span class="line"><span style="color:#F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">int</span><span style="color:#50FA7B"> main</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F8F8F2">    MyTemplate</span><span style="color:#FF79C6">&#x3C;double></span><span style="color:#F8F8F2"> t1;</span><span style="color:#6272A4"> // General case</span></span>
<span class="line"><span style="color:#F8F8F2">    MyTemplate</span><span style="color:#FF79C6">&#x3C;double*></span><span style="color:#F8F8F2"> t2;</span><span style="color:#6272A4"> // Partial specialization for pointers</span></span>
<span class="line"><span style="color:#F8F8F2">    MyTemplate</span><span style="color:#FF79C6">&#x3C;int></span><span style="color:#F8F8F2"> t3;</span><span style="color:#6272A4"> // Full specialization for int</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    std</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">cout </span><span style="color:#FF79C6">&#x3C;&#x3C;</span><span style="color:#F8F8F2"> t1.</span><span style="color:#50FA7B">name</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">&#x3C;&#x3C;</span><span style="color:#F8F8F2"> std</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">endl;</span></span>
<span class="line"><span style="color:#F8F8F2">    std</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">cout </span><span style="color:#FF79C6">&#x3C;&#x3C;</span><span style="color:#F8F8F2"> t2.</span><span style="color:#50FA7B">name</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">&#x3C;&#x3C;</span><span style="color:#F8F8F2"> std</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">endl;</span></span>
<span class="line"><span style="color:#F8F8F2">    std</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">cout </span><span style="color:#FF79C6">&#x3C;&#x3C;</span><span style="color:#F8F8F2"> t3.</span><span style="color:#50FA7B">name</span><span style="color:#F8F8F2">() </span><span style="color:#FF79C6">&#x3C;&#x3C;</span><span style="color:#F8F8F2"> std</span><span style="color:#FF79C6">::</span><span style="color:#F8F8F2">endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    return</span><span style="color:#BD93F9"> 0</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<p>In the example above, we have defined a primary template <code>MyTemplate</code> with a single type parameter <code>T</code>. We then provide a partial template specialization for pointer types by specifying <code>MyTemplate&#x3C;T*></code>. This means that the partial specialization will be chosen when the type argument is a pointer type.</p>
<p>Lastly, we provide a full specialization for the <code>int</code> type by specifying <code>MyTemplate&#x3C;int></code>. This will be chosen when the type argument is <code>int</code>.</p>
<p>When running this example, the output will be:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span>General case</span></span>
<span class="line"><span>Partial specialization for pointers</span></span>
<span class="line"><span>Full specialization for int</span></span></code></pre>
<p>This demonstrates that the partial specialization works as expected, and is chosen for pointer types, while the full specialization is chosen for the <code>int</code> type.</p>